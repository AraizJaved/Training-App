<!-- Container-fluid starts -->
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }">
</ngx-loading>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <div class="card" style="margin-top: 2%">
        <div class="card-header" style="border-bottom: 4px solid #229106">

          <div class="row">
            <div class="col-md-11">
              <h5>Add New Training</h5>
            </div>
            <div class="col-md-1">
              <i type="button" class="fa fa-close" aria-label="Close" (click)="CloseModal()"></i>
            </div>
          </div>
        </div>

        <form [formGroup]="RegisterForm" class="form theme-form">
          <div class="card-body">
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="title">Training Title<span style="color: red">*</span></label>
                  <input style="border: 1px solid #9eb7cf" type="text" formControlName="title" class="form-control"
                    id="title" required placeholder="" required />
                  <div *ngIf="
                      this.parentSubmitted &&
                      this.RegisterForm.controls.title.value == ''
                    " class="text text-danger">
                    Title is required.
                  </div>
                  <p *ngIf="isExist" class="text-danger">Title already exists</p>
                </div>
              </div>
              <div class="col-md-12" *ngIf="this.Designations.length>0">
                <div class="form-group">
                  <label for="title">Cadre/Designation</label>
                  <search-dropdown [items]="this.Designations" [size]="'small'" [img]="'product'"
                    [label]="'designationName'" [uid]="'designationName'" formControlName="Cadre">
                  </search-dropdown>

                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="ContactType">Training Category
                  </label>

                  <select style="border: 1px solid #9eb7cf" id="meetingVenue" required class="form-control"
                    formControlName="trainingCategory">
                    <option selected value="">
                      --Select Training Category--
                    </option>

                    <option *ngFor="let index of this.TrainigCategory" [ngValue]="index.traingCategoryName">
                      {{ index.traingCategoryName }}
                    </option>
                  </select>
                  <!-- <ng-multiselect-dropdown
                                    [placeholder]="'Select Chairmanship of'"
                                    [settings]="dropdownSettingsOrg"
                                    [data]="MeetingOrganizer"
                                    [formControl]="this.RegisterForm.controls.meetingOrganizer"
                                    (onSelect)="onItemSelect($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                
                                  > 
                                  </ng-multiselect-dropdown>-->
                  <!-- <div *ngIf="
                      this.parentSubmitted &&
                      this.RegisterForm.controls.meetingOrganizer.value == ''
                    " class="text text-danger">
                    Under the Chairmanship of is required.
                  </div> -->
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="ContactType">Training Level
                  </label>

                  <select style="border: 1px solid #9eb7cf" id="TrainingLevel" required class="form-control"
                    formControlName="TrainingLevel">
                    <option selected value="">
                      --Select Training Level--
                    </option>

                    <option *ngFor="let index of this.TrainingLevels" [ngValue]="index.trainingLevel">
                      {{ index.trainingLevel }}
                    </option>
                  </select>
                  <!-- <ng-multiselect-dropdown
                                    [placeholder]="'Select Chairmanship of'"
                                    [settings]="dropdownSettingsOrg"
                                    [data]="MeetingOrganizer"
                                    [formControl]="this.RegisterForm.controls.meetingOrganizer"
                                    (onSelect)="onItemSelect($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                
                                  > 
                                  </ng-multiselect-dropdown>-->
                  <!-- <div *ngIf="
                      this.parentSubmitted &&
                      this.RegisterForm.controls.TrainingLevel.value == ''
                    " class="text text-danger">
                    Under the Chairmanship of is required.
                  </div> -->
                </div>
              </div>




            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="ContactType">Training Type

                  </label>

                  <select style="border: 1px solid #9eb7cf" id="meetingVenue" required class="form-control"
                    formControlName="trainingType">
                    <option selected value="">--Select Training Type--</option>

                    <option *ngFor="let index of this.TrainingType" [ngValue]="index.trainingTypeName">
                      {{ index.trainingTypeName }}
                    </option>
                  </select>
                  <!-- <ng-multiselect-dropdown
                                    [placeholder]="'Select Chairmanship of'"
                                    [settings]="dropdownSettingsOrg"
                                    [data]="MeetingOrganizer"
                                    [formControl]="this.RegisterForm.controls.meetingOrganizer"
                                    (onSelect)="onItemSelect($event)"
                                    (onSelectAll)="onSelectAll($event)"
                                
                                  > 
                                  </ng-multiselect-dropdown>-->
                  <!-- <div *ngIf="
                      this.parentSubmitted &&
                      this.RegisterForm.controls.meetingOrganizer.value == ''
                    " class="text text-danger">
                    Under the Organized By of is required.
                  </div> -->
                </div>
              </div>

              <div class="col-md-6" style="margin-top: 14px;">
                <div class="form-group">
                  <label for="dueDate">Departments</label>

                  <ng-multiselect-dropdown [placeholder]="'Select Departments'" [settings]="dropdownSettingsCompany"
                    [data]="AssignTo" formControlName="department" (onSelect)="onItemSelectDepartment($event)">
                  </ng-multiselect-dropdown>
                  <!-- <div *ngIf="this.parentSubmitted && this.RegisterForm.controls.assignTo.value==''"
                                        class="text text-danger">
                                        Meeting Assingnee Department is required.
                                    </div> -->
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="ContactType">Organized By
                  </label>

                  <select style="border: 1px solid #9eb7cf" id="meetingVenue" required class="form-control"
                    formControlName="OrganizedBy">
                    <option selected value="">--Select Organized By--</option>

                    <option *ngFor="let index of this.OrganizedBys" [ngValue]="index.organizedBy">
                      {{ index.organizedBy}}
                    </option>
                  </select>
                  <!-- <ng-multiselect-dropdown
                                          [placeholder]="'Select Chairmanship of'"
                                          [settings]="dropdownSettingsOrg"
                                          [data]="MeetingOrganizer"
                                          [formControl]="this.RegisterForm.controls.meetingOrganizer"
                                          (onSelect)="onItemSelect($event)"
                                          (onSelectAll)="onSelectAll($event)"
                                      
                                        > 
                                        </ng-multiselect-dropdown>-->
                  <!-- <div *ngIf="
                        this.parentSubmitted &&
                        this.RegisterForm.controls.OrganizedBy.value == ''
                      " class="text text-danger">
                    Under the Organized By is required.
                  </div> -->
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group">
                  <label for="ContactType">Supported By
                  </label>

                  <select style="border: 1px solid #9eb7cf" id="SupportedBy" required class="form-control"
                    formControlName="SupportedBy">
                    <option selected value="">--Select Supported By--</option>

                    <option *ngFor="let index of this.SupportedBys" [ngValue]="index.supportedBy">
                      {{ index.supportedBy }}
                    </option>
                  </select>
                  <!-- <ng-multiselect-dropdown
                                          [placeholder]="'Select Chairmanship of'"
                                          [settings]="dropdownSettingsOrg"
                                          [data]="MeetingOrganizer"
                                          [formControl]="this.RegisterForm.controls.meetingOrganizer"
                                          (onSelect)="onItemSelect($event)"
                                          (onSelectAll)="onSelectAll($event)"
                                      
                                        > 
                                        </ng-multiselect-dropdown>-->
                  <!-- <div *ngIf="
                        this.parentSubmitted &&
                        this.RegisterForm.controls.SupportedBy.value == ''
                      " class="text text-danger">
                    Under the SupportedBy of is required.
                  </div> -->
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="description">Description</label>
                  <textarea type="text" rows="4" cols="100" style="border: 1px solid #9eb7cf"
                    formControlName="description" class="form-control" id="description" required
                    placeholder=""></textarea>

                  <!-- <div *ngIf="
                        this.parentSubmitted &&
                        this.RegisterForm.controls.description.value == ''
                      " class="text text-danger">
                    Description is required.
                  </div> -->
                  <!-- <div *ngIf="this.RegisterForm.controls.description.errors?.pattern">
                                                User name not valid.
                                           </div>  -->
                </div>
              </div>
            </div>
            <div class="row">

              <div class="col-md-6">
                <div class="form-group">
                  <button style="margin-left: 87%" type="submit" (click)="onSubmit()"
                    class="mr-1 btn btn-primary btn-air-success btn-lg">
                    Submit
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>